<div
	*ngIf="vm$ | async as vm"
	id="notes-list"
>

	<div class="button-container" *ngFor="let note of vm.notes | keyvalue">
		<div *ngIf="note.value.isTrashed === vm.displayingTrash">
			<button 
				class="note-button"
				[attr.data-note-id]="note.key" 
				data-test-id="select-note-button" 
				draggable="true" 
				(dragstart)="drag($event, {id: +note.key, props: note.value})"
				(click)="appStateService.setNoteOnDisplayId(+note.key)"
				[class.selected]="vm.noteOnDisplayId === +note.key"
				>
				{{note.value.name}}
			</button>
		</div>
	</div>

	<form #form="ngForm" [hidden]="isFormHidden" [attr.id]="createNoteFormId"
		(ngSubmit)="onSubmitCreate($event)">

		<input #nameInput [attr.id]="this.noteNameInputId" class="note-button"
		name='name-input' [(ngModel)]="nameFormValue" minlength=1 required
		(blur)="onInputBlur($event)">

	</form>

	<button *ngIf="!vm.displayingTrash" id="create-button"
		(click)="toggleFormVisibility(nameInput)" [class.showing-form]="!isFormHidden"
	>+</button>
</div>